<header [class.scrolled]="isScrolled">
    <nav>
        <div class="hamburger-menu" id="hamburgerMenu" (click)="toggleMobileMenu()" [class.active]="mobileMenuOpen">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="logo">
            <a routerLink="/">
                <img src="./assets/img/huzur-logo.jpg" alt="Logo">
                Huzur<span>Mostar</span>
            </a>
        </div>
        <div class="nav-links" id="navLinks">
            <a (click)="scrollToSection('home', $event)" [class.active]="isActive('home')">Početna</a>
            <a (click)="scrollToSection('about', $event)" [class.active]="isActive('about')">O nama</a>
            <div class="nav-item has-dropdown" [class.active]="isProductsDropdownOpen">
                <a (click)="toggleProductsDropdown($event)" [class.active]="isActive('products')">
                    Naša ponuda
                    <i class="fas" [class.fa-chevron-down]="!isProductsDropdownOpen" [class.fa-chevron-up]="isProductsDropdownOpen"></i>
                </a>
                <ul class="dropdown-menu" [class.active]="isProductsDropdownOpen">
                    <li *ngFor="let section of productSections">
                        <a (click)="scrollToSection(section.id, $event)" [class.active]="activeSection === section.id">
                            {{ section.name }}
                        </a>
                    </li>
                </ul>
            </div>
            <a (click)="scrollToSection('faq', $event)" [class.active]="isActive('faq')">Najčešća pitanja</a>
            <a (click)="scrollToSection('testimonials', $event)" [class.active]="isActive('testimonials')">Drugi o nama</a>
            <a (click)="scrollToSection('contact', $event)" [class.active]="isActive('contact')">Kontakt</a>
            <a routerLink="/blog" [class.active]="isOnBlogPage()">Blog</a>
        </div>
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox" [checked]="isDarkMode" (change)="toggleDarkMode()" />
                <div class="toggle-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                        <!-- Sun circle -->
                        <circle class="sun-circle" cx="12" cy="12" r="6"></circle>
                        
                        <!-- Sun rays - only visible in light mode -->
                        <g class="sun-rays">
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </g>
                        
                        <!-- Moon mask creates crescent shape -->
                        <path class="moon-mask" d="M8 6a6 6 0 0 0 8 8 7 7 0 1 1-8-8z"></path>
                    </svg>
                </div>
            </label>
        </div>
    </nav>
</header>

<!-- Mobile menu outside header to slide below header -->
<div class="mobile-nav-menu" id="mobileNavMenu" [class.active]="mobileMenuOpen">
    <ul>
        <li><a (click)="scrollToSection('home', $event)" [class.active]="isActive('home')">Početna</a></li>
        <li><a (click)="scrollToSection('about', $event)" [class.active]="isActive('about')">O nama</a></li>
        <li class="has-dropdown">
            <a (click)="toggleProductsDropdown($event)" [class.active]="isActive('products')">
                Naša ponuda
                <i class="fas" [class.fa-chevron-down]="!isProductsDropdownOpen" [class.fa-chevron-up]="isProductsDropdownOpen"></i>
            </a>
            <ul class="dropdown-menu" [class.active]="isProductsDropdownOpen">
                <li *ngFor="let section of productSections">
                    <a (click)="scrollToSection(section.id, $event)" [class.active]="activeSection === section.id">
                        {{ section.name }}
                    </a>
                </li>
            </ul>
        </li>
        <li><a (click)="scrollToSection('faq', $event)" [class.active]="isActive('faq')">Najčešća pitanja</a></li>
        <li><a (click)="scrollToSection('testimonials', $event)" [class.active]="isActive('testimonials')">Drugi o nama</a></li>
        <li><a (click)="scrollToSection('contact', $event)" [class.active]="isActive('contact')">Kontakt</a></li>
        <li><a routerLink="/blog" [class.active]="isOnBlogPage()" (click)="toggleMobileMenu()">Blog</a></li>
    </ul>
    <div class="contact-number">
        <a href="tel:+387603352011"><i class="fas fa-phone"></i> +387 60 33 52 011</a>
        <p class="made-with-love">Cvjećara u <i class="fas fa-heart"></i> Mostara</p>
    </div>
</div>