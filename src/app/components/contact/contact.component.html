<section id="contact" class="animate-section">
    <!-- Loading overlay with flower animation -->
    <div class="loader-overlay" *ngIf="isSubmitting">
        <div class="loader-content">
            <div class="flower-loader">
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="petal"></div>
                <div class="flower-center"></div>
            </div>
            <div class="loader-text">Šaljemo vašu poruku...</div>
        </div>
    </div>

    <div class="container">
        <h2 class="animate-item">Kontaktirajte nas</h2>
        <div class="contact-container">
            <div class="contact-info animate-item">
                <p>Inspirišu nas različite želje, prijedlozi i upiti koje dobijamo.
                    Bilo da imate pitanja o našim proizvodima, trebate pomoć oko
                    naručivanja ili želite razgovarati o prilagođenom aranžmanu, Huzur tim je tu da vam pomogne.</p>
                <p><strong>Adresa:</strong><br>Maršala Tita 134<br>Mostar, 88000</p>
                <p><strong>Radno vrijeme:</strong><br>Ponedjeljak-Subota: 9:00-17:30<br>Nedjelja: Zatvoreno</p>
                <p><strong>Telefon:</strong> +387 60 33 52 011</p>
                <p><strong>Email:</strong> huzur.mostar&#64;gmail.com</p>
            </div>
            <div class="contact-form animate-item">
                <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" name="contact" action="/form-success"
                    data-netlify="true" netlify-honeypot="bot-field" method="POST">
                    <input type="hidden" name="form-name" value="contact" />
                    <p class="hidden" style="display: none;">
                        <label>Don't fill this out if you're human: <input name="bot-field" /></label>
                    </p>
                    <div class="form-group">
                        <label for="name">Ime i prezime <span class="required">*</span></label>
                        <input type="text" id="name" name="name" formControlName="name"
                               [class.invalid]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
                               placeholder="Unesite vaše ime i prezime">
                        <div class="error-message" *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
                            Ime i prezime je obavezno polje.
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email adresa <span class="required">*</span></label>
                        <input type="email" id="email" name="email" formControlName="email"
                               [class.invalid]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched"
                               placeholder="vas.email@primjer.com">
                        <div class="error-message" *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
                            <span *ngIf="contactForm.get('email')?.errors?.['required']">Email adresa je obavezna.</span>
                            <span *ngIf="contactForm.get('email')?.errors?.['email']">Unesite validnu email adresu.</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="subject">Naslov poruke <span class="required">*</span></label>
                        <input type="text" id="subject" name="subject" formControlName="subject"
                               [class.invalid]="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched"
                               placeholder="Ukratko opišite razlog kontakta">
                        <div class="error-message" *ngIf="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched">
                            Naslov poruke je obavezan.
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="message">Poruka <span class="required">*</span></label>
                        <textarea id="message" name="message" formControlName="message"
                                  [class.invalid]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"
                                  placeholder="Unesite vašu poruku ovdje..."></textarea>
                        <div class="error-message" *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched">
                            Poruka je obavezna.
                        </div>
                    </div>
                    <button type="submit" class="btn" [disabled]="contactForm.invalid || isSubmitting">
                        {{ isSubmitting ? 'Slanje...' : 'Pošalji poruku' }}
                    </button>
                    <div class="form-status">{{ formStatus }}</div>
                </form>
            </div>
        </div>
    </div>
</section>